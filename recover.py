import base64
import os

files = {
    "app/shopify.server.ts": "aW1wb3J0ICJAc2hvcGlmeS9zaG9waWZ5LWFwcC1yZWFjdC1yb3V0ZXIvYWRhcHRlcnMvbm9kZSI7CmltcG9ydCB7CiAgQXBpVmVyc2lvbiwKICBBcHBEaXN0cmlidXRpb24sCiAgc2hvcGlmeUFwcCwKfSBmcm9tICJAc2hvcGlmeS9zaG9waWZ5LWFwcC1yZWFjdC1yb3V0ZXIvc2VydmVyIjsKaW1wb3J0IHsgc3VwYWJhc2VBZG1pbiB9IGZyb20gIi4vbGliL3N1cGFiYXNlLnNlcnZlciI7CmltcG9ydCB7IFNRTGl0ZVNlc3Npb25TdG9yYWdlIH0gZnJvbSAiQHNob3BpZnkvc2hvcGlmeS1hcHAtc2Vzc2lvbi1zdG9yYWdlLXNxbGl0ZSI7Cgpjb25zdCBzaG9waWZ5ID0gc2hvcGlmeUFwcCh7CiAgYXBpS2V5OiBwcm9jZXNzLmVudi5TSE9QSUZZX0FQSV9LRVkgfHwgIm1p脆弱f2FwaV9rZXkiLAogIGFwaVNlY3JldEtleTogcHJvY2Vzcy5lbnYuU0hPUElGWV9BUElfU0VDUkVUIHx8ICJtaXNzaW5nX3NlY3JldF9rZXkiLAogIGFwaVZlcnNpb246IEFwaVZlcnNpb24uT2N0b2JlcjI1LAogIHNjb3BlczogcHJvY2Vzcy5lbnYuU0NPUEVTPy5zcGxpdCgiLCIpIHx8IFtdLAogIGFwcFVybDogcHJvY2Vzcy5lbnYuU0hPUElGWV9BUFBfVVJMIHx8ICJodHRwczovL2VsbG8tc2hvcGlmeS1hcHAtMTM1OTM1MTY4OTcudXMtY2VudHJhbDEucnVuLmFwcCIsCiAgYXV0aFBhdGgxUHJlZml4OiAiL2F1dGgiLAogIHNlc3Npb25TdG9yYWdlOiBuZXcgU1FMaXRlU2Vzc2lvblN0b3JhZ2UocHJvY2Vzcy5lbnYuU0VTU0lPTl9EQl9QQVRIIHx8ICIuL3Nob3BpZnlfc2Vzc2lvbnMuc3FsaXRlIiksCiAgaG9va3M6IHsKICAgIGFzeW5jIGFmdGVyQXV0aCh7IHNlc3Npb24sIGFkbWluIH0pIHsKICAgICAgY29uc29sZS5sb2coIsCfk54gRW50ZXJlZCBhZnRlckF1dGggZm9yIHNob3A6Iiwgc2Vzc2lvbi5zaG9wKTsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBzaG9wID0gc2Vzc2lvbi5zaG9wOwoKICAgICAgICAvLyAxKSBDcmVhdGVzIHN0b3JlZnJvbnQgdG9rZW4gaW4gU2hvcGlmeQogICAgICAgIGNvbnN0IG11dGF0aW9uID0gYCNncmFwaHFsCiAgICAgICAgICBtdXRhdGlvbiBDcmVhdGVTdG9yZWZyb250VG9rZW4oJGlucHV0OiBTdG9yZWZyb250QWNjZXNzVG9rZW5JbnB1dCEpIHsKICAgICAgICAgICAgc3RvcmVmcm9udEFjY2Vzc1Rva2VuQ3JlYXRlKGlucHV0OiAkaW5wdXQpIHsKICAgICAgICAgICAgICBzdG9yZWZyb250QWNjZXNzVG9rZW4geyBhY2Nlc3NUb2tlbiB9CiAgICAgICAgICAgICAgdXNlckVycm9ycyB7IGZpZWxkIG1lc3NhZ2UgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgYDsKCiAgICAgICAgY29uc29sZS5sb2coIsCfk54gTWludGluZyBTdG9yZWZyb250IFRva2VuLi4uIik7CiAgICAgICAgY29uc29zdCByZXNwID0gYXdhaXQgYWRtaW4uZ3JhcGhxbChtdXRhdGlvbiwgewogICAgICAgICAgdmFyaWFibGVzOiB7IGlucHV0OiB7IHRpdGxlOiAiRWxsbyBWVE8iIH0gfSwKICAgICAgICB9KTsKCiAgICAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3AuanNvbigpOwogICAgICAgIGNvbnN0IHRva2VuID0KICAgICAgICAgIGpzb24/LmRhdGE/LnN0b3JlZnJvbnRBY2Nlc3NUb2tlbkNyZWF0ZT8uc3RvcmVmcm9udEFjY2Vzc1Rva2VuPy5hY2Nlc3NUb2tlbjsKICAgICAgICBjb25zdCBlcnJzID0ganNvbj8uZGF0YT8uc3RvcmVmcm9udEFjY2Vzc1Rva2VuQ3JlYXRlPy51c2VyRXJyb3JzOwoKICAgICAgICBpZiAoZXJycyAmJiBlcnJzLmxlbmd0aCA+IDApIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIuKdjCBjYWxsIHRvIHN0b3JlZnJvbnRBY2Nlc3NUb2tlbkNyZWF0ZSBmYWlsZWQ6IiwgZXJycyk7CiAgICAgICAgfQoKICAgICAgICBpZiAoIXRva2VuKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCLinYwgTm8gdG9rZW4gcmV0dXJuZWQgZnJvbSBTaG9waWZ5OiIsIGpzb24pOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2coIsKchSBNaW50ZWQgU2hvcGlmeSBUb2tlbjoiLCB0b2tlbik7CgogICAgICAgIC8vIDIpIFN0b3JlIGluIFN1cGFiYXNlIChzaG9waWZ5X2FwcCBTY2hlbWEpCiAgICAgICAgY29uc29sZS5sb2coIsCfk54gU2F2aW5nIHRvIFN1cGFiYXNlIChzaG9waWZ5X2FwcC5zdG9yZWZyb250X3Rva2VucykuLi4iKTsKICAgICAgICBjb25zdCB7IGVycm9yOiB1cHNlcnRFcnIgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW4KICAgICAgICAgIC5zY2hlbWEoJ3Nob3BpZnlfYXBwJykKICAgICAgICAgIC5mcm9tKCJzdG9yZWZyb250X3Rva2VucyIpCiAgICAgICAgICAudXBzZXJ0KAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgc2hvcCwKICAgICAgICAgICAgICBzdG9yZWZyb250X2FjY2Vzc190b2tlbjogdG9rZW4sCiAgICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsgb25Db25mbGljdDogInNob3AiIH0KICAgICAgICAgICk7CgogICAgICAgIGlmICh1cHNlcnRFcnIpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIuKdjCBTdXBhYmFzZSB1cHNlcnQgZXJyb3I6IiwgdXBzZXJ0RXJyKTsKICAgICAgICAgIGlmICh1cHNlcnRFcnIuY29kZSA9PT0gJ1BHUlNUMTA2JykgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCLwn5qoIENSVElDQUw6IFlvdSBtdXN0IGV4cG9zZSB0aGUgJ3Nob3BpZnlfYXBwJyBzY2hlbWEgaW4gU3VwYWJhc2UhIik7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIiAgIEdvIHRvOiBEYXNoYm9hcmQgLT4gU2V0dGluZ3MgLT4gQVBJIC0+IEV4cG9zZWQgU2NoZW1hcyAtPiBBZGQgJ3Nob3BpZnlfYXBwJyIpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHVwc2VydEVyci5jb2RlID09PSAnNDJQMDEnKSBjb25zb2xlLmVycm9yKCIgICAoVGFibGUgZG9lcyBub3QgZXhpc3Q/KSIpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2coIsKchSBTdWNjZXNzZnVsbHkgc3RvcmVkIHN0b3JlZnJvbnQgdG9rZW4gZm9yIiwgc2hvcCk7CgogICAgICAgIC8vIDMpIEF1dG8tcG9wdWxhdGUgdnRvX3N0b3JlcyAoQnJhbmRpbmcvQ29uZmlnKQogICAgICAgIGNvbnNvbGUusb2coIsCfk54gRW5zdXJpbmcgdnRvX3N0b3JlcyBlbnRyeSBleGlzdHMuLi4iKTsKICAgICAgICBjb25zdCB7IGVycm9yOiB2dG9FcnIgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW4KICAgICAgICAgIC5mcm9tKCJ2dG9fc3RvcmVzIikKICAgICAgICAgIC51cHNlcnQoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBzaG9wX2RvbWFpbjogc2hvcCwKICAgICAgICAgICAgICBzdG9yZV9zbHVnOiBzaG9wLnJlcGxhY2UoJy5teXNob3BpZnkuY29tJywgJycpLAogICAgICAgICAgICAgIHN0b3JlZnJvbnRfdG9rZW46IHRva2VuLAogICAgICAgICAgICAgIGNsb3RoaW5nX3BvcHVsYXRpb25fdHlwZTogJ3Nob3BpZnknLAogICAgICAgICAgICAgIHdpZGdldF9wcmltYXJ5X2NvbG9yOiAnIzAwMDAwMCcsCiAgICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsgb25Db25mbGljdDogInNob3BfZG9tYWluIiB9CiAgICAgICAgICApOwoKICAgICAgICBpZiAodnRvRXJyKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCLinYwgU3VwYWJhc2UgdnRvX3N0b3JlcyB1cHNlcnQgZXJyb3I6IiwgdnRvRXJyKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGNvbnNvbGUusb2coIsKchSBTdWNjZXNzZnVsbHkgaW5pdGlhbGl6ZWQgdnRvX3N0b3JlcyBmcm9tIiwgc2hvcCk7CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIuKdjCBDcml0aWNhbCBhZnRlckF1dGggaG9vayBlcnJvcjoiLCBlcnIpOwogICAgICB9CiAgICB9LAogIH0sCiAgZGlzdHJpYnV0aW9uOiBBcHBEaXN0cmlidXRpb24uQXBwU3RvcmUsCiAgZnV0dXJlOiB7CiAgICB1bnN0YWJsZV9uZXdFbWJlZGRlZEF1dGhTdHJhdGVneTogdHJ1ZSwKICAgIHJlbW92ZVJlc3Q6IHRydWUsCiAgfSwKICAuLi4ocHJvY2Vzcy5lbnYuU0hPUE9fQ1VTVE9NX0RPTUFJTgogICAgPyB7IGN1c3RvbVNob3BEb21haW5zOiBbcHJvY2Vzcy5lbnYuU0hPUF9DVVNUT01fRE9NQUlOXSB9CiAgICA6IHt9KSwKfSk7CgpleHBvcnQgZGVmYXVsdCBzaG9waWZ5OwpleHBvcnQgY29uc3QgYXBpVmVyc2lvbiA9IEFwaVZlcnNpb24uT2N0b2JlcjI1OwpleHBvcnQgY29uc3QgYWRkRG9jdW1lbnRSZXNwb25zZUhlYWRlcnMgPSBzaG9waWZ5LmFkZERvY3VtZW50UmVzcG9uc2VIZWFkZXJzOwpleHBvcnQgY29uc3QgYXV0aGVudGljYXRlID0gc2hvcGlmeS5hdXRoZW50aWNhdGU7CmV4cG9ydCBjb25zdCB1bmF1dGhlbnRpY2F0ZWQgPSBzaG9waWZ5LnVuYXV0aGVudGljYXRlOwpleHBvcnQgY29uc3QgbG9naW4gPSBzaG9waWZ5LmxvZ2luOwpleHBvcnQgY29uc3QgcmVnaXN0ZXJXZWJob29rcyA9IHNob3BpZnkucmVnaXN0ZXJXZWJob29rczsKZXhwb3J0IGNvbnN0IHNlc3Npb25TdG9yYWdlID0gc2hvcGlmeS5zZXNzaW9uU3RvcmFnZTsK",
    "app/routes/bootstrap.tsx": "aW1wb3J0IHR5cGUgeyBBY3Rpb25GdW5jdGlvbkFyZ3MsIExvYWRlckZ1bmN0aW9uQXJncyB9IGZyb20gInJlYWN0LXJvdXRlciI7CmltcG9ydCB7IHN1cGFiYXNlQWRtaW4gfSBmcm9tICIuLi9saWIvc3VwYWJhc2Uuc2VydmVyIjsKCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkZXIoeyByZXF1ZXN0IH06IExvYWRlckZ1bmN0aW9uQXJncykgewogICAgaWYgKHJlcXVlc3QubWV0aG9kID09PSAiT1BUSU9OUyIpIHsKICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHsKICAgICAgICAgICAgc3RhdHVzOiAyMDQsCiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luIjogIioiLAogICAgICAgICAgICAgICAgICJBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzIjogIlBPU1QsIE9QVElPTlMiLAogICAgICAgICAgICAgICAgICJBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzIjogIkNvbnRlbnQtVHlwZSIKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQogICAgcmV0dXJuIG5VdyBSZXNwb25zZSgiTWV0aG9kIG5vdCBhbGxvd2VkIiwgeyBzdGF0dXM6IDQwNSB9KTsKfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFjdGlvbih7IHJlcXVlc3QgfTogQWN0aW9uRnVuY3Rpb25BcmdzKSB7CiAgICBpZiAocmVxdWVzdC5tZXRob2QgPT09ICJPUFRJT05TIikgewogICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwgewogICAgICAgICAgICBzdGF0dXM6IDIwNCwKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4iOiAiKiIsCiAgICAgICAgICAgICAgICAgIkFjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMiOiAiUE9TVCwgT1BUSU9OUyIsCiAgICAgICAgICAgICAgICAgIkFjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMiOiAiQ29udGVudC1UeXBlIgogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9CgogICAgdHJ5IHsKICAgICAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7CiAgICAgICAgY29uc3Qgc2hvcCA9IGJvZHkuc2hvcDsKCiAgICAgICAgaWYgKCFzaG9wKSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogIk1pc3Npbmcgc2hvcCIgfSksIHsKICAgICAgICAgICAgICAgIHN0YXR1czogNDAwLAogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICAgICAgICAgIkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbiI6ICIqIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGNvbnNvbGUubG9nKGBbQm9vdHN0cmFwXSBGZXRjaGluZyBjb25maWcgZm9yIHNob3A6ICR7c2hvcH1hKTsKCiAgICAgICAgY29uc3QgeyBkYXRhOiBzdG9yZURhdGEsIGVycm9yOiBzdG9yZUVycm9yIH0gPSBhd2FpdCBzdWNhYmFzZUFkbWluCiAgICAgICAgICAgIC5mcm9tKCJ2dG9fc3RvcmVzIikKICAgICAgICAgICAgLnNlbGVjdCgic3RvcmVfc2x1Zywgc2hvcF9kb21haW4sIHN0b3JlZnJvbnRfdG9rZW4sIGNsb3RoaW5nX3BvcHVsYXRpb25fdHlwZSwgZmVhdHVyZWRfaXRlbV9pZCwgcXVpY2tfcGlja3NfaWRzLCB3aWRnZXRfcHJpbWFyeV9jb2xvciwgc3VwcG9ydGVkX3Byb2R1Y3RzX2ZpbHRlcl90eXBlLCBzdXBwb3J0ZWRfcHJvdWR1Y3RzX2ZpbHRlcl92YWx1ZSIpCiAgICAgICAgICAgIC5vcihgc2hvcF9kb21haW4uZXEuJHtzaG9wfSxzdG9yZV9zbHVnLmVxLiR7c2hvcH1gKQogICAgICAgICAgICAubWF5YmVTaW5nbGUoKTsKCiAgICAgICAgaWYgKHN0b3JlRXJyb3IpIHsKICAgICAgICAgICAgY29uc28sZS5lcnJvcihGW0Jvb3RzdHJhcF0gREIgRXJyb3I6Iiwgc3RvcmVFcnJvcik7CiAgICAgICAgfQoKICAgICAgICBsZXQgZmluYWxTdG9yRGF0YSA9IHN0b3JlRGF0YTsKICAgICAgICBpZiAoIWZpbmFsU3RvcmVEYXRhKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbQm9vdHN0cmFwXSBTdG9yZSBub3QgZm91bmQgaW4gdnRvX3N0b3JlcywgY2hlY2tpbmcgc3RvcmVmcm9udF90b2tlbnMgZm9yOiAke3Nob3B9YCl7CiAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogdG9rZW5EYXRhLCBlcnJvcmogdG9rZW5FcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pbgogICAgICAgICAgICAgIC5zY2hlbWEoJ3Nob3BpZnlfYXBwJykKICAgICAgICAgICAgICAuZnJvbSgic3RvcmVmcm9udF90b2tlbnMiKQogICAgICAgICAgICAgIC5zZWxlY3QoInN0b3JlZnJvbnRfYWNjZXNzX3Rva2VuIikKICAgICAgICAgICAgICAuZXEoInNob3AiLCBzaG9wKQogICAgICAgICAgICAgIC5tYXliZVNpbmdsZSgpOwoKICAgICAgICAgICAgaWYgKHRva2VuRXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIltCb290c3RyYXBdIFRva2VuIERiIEVycm9yOiIsIHRva2VuRXJyb3IpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAodG9rZW5EYXRhKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlubG9nKGBbQm9vdHN0cmFwXSBGb3VuZCB0b2tlbiBpbiBzdG9yZWZyb250X3Rva2VucywgY3JlYXRpbmcgc3ludGhldGljIHN0b3JlIG9iamVjdC5gKTsKICAgICAgICAgICAgICAgIGZpbmFsU3RvcmVEYXRhID0gewogICAgICAgICAgICAgICAgICAgIHNob3BfZG9tYWluOiBzaG9wLAogICAgICAgICAgICAgICAgICAgIHN0b3JlZnJvbnRfdG9rZW46IHRva2VuRGF0YS5zdG9yZWZyb250X2FjY2Vzc190b2tlbiwKICAgICAgICAgICAgICAgICAgICBjbG90aGluZ19wb3B1bGF0aW9uX3R5cGU6ICdzaG9waWZ5JywKICAgICAgICAgICAgICAgICAgICBzdG9yZV9zbHVnOiBzaG9wLnJlcGxhY2UoJy5teXNob3BpZnkuY29tJywgJycpLAogICAgICAgICAgICAgICAgICAgIHdpZGdldF9wcmltYXJ5X2NvbG9yOiAnIzAwMDAwMCcsCiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZWRfaXRlbV9pZDogbnVsbCwKICAgICAgICAgICAgICAgICAgICBxdWlja19waWNrc19pZHM6IFtdLAogICAgICAgICAgICAgICAgICAgIHN1cHBvcnRlZF9wcm9kdWN0c19maWx0ZXJfdHlwZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICBzdXBwb3J0ZWRfcHJvZHljdHNfZmlsdGVyX3ZhbHVlOiBudWxsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBsZXQgaGlkZGVuUHJvZHVjdElkczogc3RyaW5nW10gPSBbXTsKCiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgIHN0b3JlOiBmaW5hbFN0b3JlRGF0YSB8fCBudWxsLAogICAgICAgICAgICBibGFja2xpc3Q6IHsKICAgICAgICAgICAgICAgIGhpZGRlblByb2R1Y3RJZHM6IGhpZGRlblByb2R1Y3RJZHMKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpCiAgICAgICAgfSksIHsKICAgICAgICAgICAgc3RhdHVzOiAyMDAsCiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICAgICAiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luIjogIioiCiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIltCb290c3RyYXBdIEVycm9yOiIsIGVycm9yKTsKICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6ICJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiIH0pLCB7CiAgICAgICAgICAgIHN0YXR1czogNTAwLAogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAgICAgIkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbiI6ICIqIgogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9Cn0K",
    "app/routes/api.sync-token.tsx": "aW1wb3J0IHR5cGUgeyBBY3Rpb25GdW5jdGlvbkFyZ3MgfSBmcm9tICJyZWFjdC1yb3V0ZXIiOwppbXBvcnQgeyBhdXRoZW50aWNhdGUgfSBmcm9tICIuLi9zaG9waWZ5LnNlcnZlciI7CmltcG9ydCB7IHN1cGFiYXNlQWRtaW4gfSBmcm9tICIuLi9saWIvc3VwYWJhc2Uuc2VydmVyIjsKCmV4cG9ydCBjb25zdCBhY3Rpb24gPSBhc3luYyAgeyByZXF1ZXN0IH06IEFjdGlvbkZ1bmN0aW9uQXJncykgPT4gewogICAgY29uc3QgeyBhZG1pbiwgc2Vzc2lvbiB9ID0gYXdhaXQgYXV0aGVudGljYXRlLmFkbWluKHJlcXVlc3QpOwogICAgY29uc3Qgc2hvcCA9IHNlc3Npb24uc2hvcDsKCiAgICBjb25zb2xlLsbG9nKGDwn5OeIE1hbnVhbCBTeW5jIFRva2VuIFRyaWdnZXJlZCBmb3IgJHtzaG9wfWApOwoKICAgIHRyeSB7CiAgICAgICAgY29uc3QgbXV0YXRpb24gPSBgI2dyYXBocWwKICAgICAgbXV0YXRpb24gQ3JlYXRlU3RvcmVmcm9udFRva2VuKCRpbnB1dDogU3RvcmVmcm9udEFjY2Vzc1Rva2VuSW5wdXQhKSB7CiAgICAgICAgc3RvcmVmcm9udEFjY2Vzc1Rva2VuQ3JlYXRlKGlucHV0OiAkaW5wdXQpIHsKICAgICAgICAgIHN0b3JlZnJvbnRBY2Nlc3NUb2tlbiB7IGFjY2Vzc1Rva2VuIH0KICAgICAgICAgIHVzZXJFcnJvcnMgeyBmaWVsZCBtZXNzYWdlIH0KICAgICAgICB9CiAgICAgIH0KICAgIGA7CgogICAgICAgIGNvbnN0IHJlc3AgPSBhd2FpdCBhZG1pbi5ncmFwaHFsKG11dGF0aW9uLCB7CiAgICAgICAgICAgIHZhcmlhYmxlczogeyBpbnB1dDogeyB0aXRsZTogIkVsbG8gVlRPIE1hbnVhbCBTeW5jIiB9IH0sCiAgICAgICAgfSk7CgogICAgICAgIGNvbnN0IGpzb25SZXNwID0gYXdhaXQgcmVzcC5qc29uKCk7CiAgICAgICAgY29uc3QgdG9rZW4gPQogICAgICAgICAgICBqc29uUmVzcD8uZGF0YT8uc3RvcmVmcm9udEFjY2Vzc1Rva2VuQ3JlYXRlPy5zdG9yZWZyb250QWNjZXNzVG9rZW4/LmFjY2Vzc1Rva2VuOwogICAgICAgIGNvbnN0IGVycnMgPSBqc29uUmVzcD8uZGF0YT8uc3RvcmVmcm9udEFjY2Vzc1Rva2VuQ3JlYXRlPy51c2VyRXJyb3JzOwoKICAgICAgICBpZiAoZXJycyAmJiBlcnJzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvciIo4p2MIE1hbnVhbCBTeW5jIGNhbGwgdG8gc3RvcmVmcm9udEFjY2Vzc1Rva2VuQ3JlYXRlIGZhaWxlZDoiLCBlcnJzKTsKICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogIlNob3BpZnkgQVBJIEVycm9yIiB9KSwgewogICAgICAgICAgICAgICAgc3RhdHVzOiA1MDAsCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIgfSwKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoIXRva2VuKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIuKdjCBObyB0b2tlbiByZXR1cm5lZCBmcm9tIFNob3BpZnkgTWFudWFsIFN5bmM6IiwganNvblJlc3ApOwogICAgICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAiTm8gVG9rZW4iIH0pLCB7CiAgICAgICAgICAgICAgICBzdGF0dXM6IDUwMCwKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiB9LAogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGNvbnNvbGUubG9nKCLwn5yFIE1pbnRlZCBTaG9waWZ5IFRva2VuIChNYW51YWwpOiIsIHRva2VuKTsKCiAgICAgICAgY29uc3QgeyBlcnJvcjogdXBzZXJ0RXJyIH0gPSBhd2FpdCBzdWNhYmFzZUFkbWluCiAgICAgICAgICAgIC5zY2hlbWEoJ3Nob3BpZnlfYXBwJykKICAgICAgICAgICAgLmZyb20oInN0b3JlZnJvbnRfdG9rZW5zIikKICAgICAgICAgICAgLnVwc2VydCgKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBzaG9wLAogICAgICAgICAgICAgICAgICAgIHN0b3JlZnJvbnRfYWNjZXNzX3Rva2VuOiB0b2tlbiwKICAgICAgICAgICAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7IG9Db25mbGljdDogInNob3AiIH0KICAgICAgICAgICAgKTsKCiAgICAgICAgaWYgKHVwc2VydEVycikgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCLinYwgU3VwYWJhc2UgdXBzZXJ0IGVycm9yIChNYW51YWwpOiIsIHVwc2VydEVycik7CiAgICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHVwc2VydEVyci5tZXNzYWdlIH0pLCB7CiAgICAgICAgICAgICAgICBzdGF0dXMoIDUwMCwKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiB9LAogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGNvbnNvbGUubG9nKGDwn5yFIFN1Y2Nlc3NmdWxseSBzdG9yZWQgc3RvcmVmcm9udCB0b2tlbiAoTWFudWFsKSBmb3IgJHtzaG9wfWApOwoKICAgICAgICBjb25zdCB7IGVycm9yOiB2dG9FcnIgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW4KICAgICAgICAgICAgLmZyb20oInZ0b19zdG9yZXMiKQogICAgICAgICAgICAudXBzZXJ0KAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHNob3BfZG9tYWluOiBzaG9wLAogICAgICAgICAgICAgICAgICAgIHN0b3JlX3NsdWc6IHNob3AucmVwbGFjZSgnLm15c2hvcGlmeS5jb20nLCAnJyksCiAgICAgICAgICAgICAgICAgICAgc3RvcmVmcm9udF90b2tlbjogdG9rZW4sCiAgICAgICAgICAgICAgICAgICAgY2xvdGhpbmdfcG9wdWxhdGlvbl90eXBlOiAnc2hvcGlmeScsCiAgICAgICAgICAgICAgICAgICAgd2lkZ2V0X3ByaW1hcnlfY29sb3I6ICcjMDAwMDAwJywKICAgICAgICAgICAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7IG9Db25mbGljdDogInNob3BfZG9tYWluIiB9CiAgICAgICAgICAgICk7CgogICAgICAgIGlmICh2dG9FcnIpIHsKICAgICAgICAgICAgY29uc28sZS5lcnJvcihG4p2MIFN1cGFiYXNlIHZ0b19zdG9yZXMgdXBzZXJ0IGVycm9yIChNYW51YWwpOiIsIHZ0b0Vycm9yKTsKICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogIkJyYW5kaW5nIGluaXRpYWxpemF0aW9uIGZhaWxlZCIgfSksIHsKICAgICAgICAgICAgICAgIHN0YXR1czogNTAwLAogICAgICAgICAgICAgICAgaGVhZGVyczogeyAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iIH0sCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2coYPCfnIUgU3VjY2Vzc2Z1bGx5IGluaXRpYWxpemVkIHZ0b19zdG9yZXMgKE1hbnVhbCkgZm9yICR7c2hvcH1hKTsKICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgc3VjY2VzczogdHJ1ZSB9KSwgewogICAgICAgICAgICBzdGF0dXM6IDIwMCwKICAgICAgICAgICAgaGVhZGVyczogeyAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iIH0sCiAgICAgICAgfSk7CgogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihG4p2MIENyaXRpY2FsIE1hbnVhbCBTeW5jIGVycm9yOiIsIGVycik7CiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogIkV4Y2VwdGlvbiIgfSksIHsKICAgICAgICAgICAgc3RhdHVzOiA1MDAsCiAgICAgICAgICAgIGhlYWRlcnM6IHsgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiB9LAogICAgICAgIH0pOwogICAgfQp9Ow=="
}

for path, data in files.items():
    print(f"Restoring {path}...")
    content = base64.b64decode(data)
    with open(path, "wb") as f:
        f.write(content)
print("Done!")
